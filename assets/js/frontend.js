jQuery(function(a){var b={ajax:function(a){return jQuery.post(wpas_ajax_object.ajax_url,a)},preLoader:function(){return"<div class=\"wpas-ajax-pre-loader-container\" ><img  class=\"wpas-ajax-pre-loader\" src=\""+wpas_ajax_object.image_path+"pre-loader.gif\" alt=\"Loadding...\" /></div>"},loadMorePreLoader:function(){return"<img  class=\"wpas-ajax-loadmore-pre-loader\" src=\""+wpas_ajax_object.image_path+"load-more.gif\" alt=\"Loadding...\" />"},primeDom:function(){return"<div class=\"amazon-product-thumb\">"},action:function(a){var b=a.DetailPageURL;return"on"==wpas_ajax_object.is_cart&&(b=wpas_ajax_object.cart_prefix+"ASIN.1="+a.ASIN),b},rating:function(a){if(""!=a.TotalReviews){if(""!=a.Rating){console.log("Rating : ",a.Rating);var b="";return b=-1==a.Rating.indexOf(".0")?a.Rating.replace(".","-"):a.Rating.replace(".0",""),"<div class=\"amazon-product-rating\" data-product-asin=\""+a.ASIN+"\">\n            <i class=\"a-icon a-icon-star a-star-"+b+"\"><span class=\"a-icon-alt\">"+a.Rating+" out of 5 stars</span></i>\n            <p>( <a href=\""+a.DetailPageURL+"?tag=0205-21#dp-summary-see-all-reviews\" target=\"_blank\">"+a.TotalReviews+"</a>)</p>\n        </div>\n"}return""}return""},products:function(c){var d="";return 0<c.length?a.each(c,function(a,c){d+="<div class=\"wpas-product-item\">\n    <div class=\"amazon-product-box\">\n        <div class=\"amazon-product-thumb\">\n            <img src=\""+c.ImageUrl+"\" alt=\"Product\">\n        </div>\n        <div class=\"amazon-product-info\">\n            <h3 title=\""+c.Title.replace("\\","")+"\">"+c.Title.replace("\\","")+" </h3>\n            <p>Price : "+c.Price+" </p>\n        </div>\n        <div class=\"amazon-product-action\">\n            <button class=\"wpas-add-to-cart\" type=\"button\" wpas-sku=\""+c.ASIN+"\" wpas-url=\""+b.action(c)+"\"> "+wpas_ajax_object.action_label+" </button>\n        </div>\n"+b.rating(c)+"    </div>\n</div>"}):d+="<p>No Products Found</p>",d},comparision:function(c){var d="";return 0<c.length?(d+="<div class=\"wpas-comparison-shortcode-inner\">\n                <div class=\"wpas-comparison-item wpas-comparison-unite\">\n                    <div class=\"wpas-comparison-item-inner\">\n                        <div class=\"wpas-comparison-base\">\n                            <p>Product Image</p>\n                        </div>\n                        <div class=\"wpas-comparison-base\"><h4>Product Name</h4></div>\n                        <div class=\"wpas-comparison-base\"><p>Unit Price</p></div>\n                        <div class=\"wpas-comparison-base\"><p>Availability</p></div>\n                        <div class=\"wpas-comparison-base wpas-comparison-product-action\">\n                            <p>Buy Now</p></div>\n                    </div>\n                    <!--wpas-comparison-item-inner-->\n                </div>\n",a.each(c,function(a,c){d+="<div class=\"wpas-comparison-item\">\n                        <div class=\"wpas-comparison-item-inner\">\n                            <div class=\"wpas-comparison-base\"><img src=\""+c.ImageUrl+"\" alt=\""+c.Title.replace("\\","")+"\" >\n                            </div>\n                            <div class=\"wpas-comparison-base\"><h4 title=\""+c.Title.replace("\\","")+"\"><a href=\""+b.action(c)+"\" target=\"_blank\">"+c.Title.replace("\\","")+"</a></h4>\n                            </div>\n                            <div class=\"wpas-comparison-base\">\n                                <p>"+c.Price+"</p>\n                            </div>\n                            <div class=\"wpas-comparison-base\"><p>In Stock</p></div>\n                            <div class=\"wpas-comparison-base wpas-comparison-product-action\">\n                                <button class=\"wpas-add-to-cart\" type=\"button\" wpas-sku=\""+c.ImageUrl+"\" wpas-url=\""+b.action(c)+"\"> "+wpas_ajax_object.action_label+"  </button>\n                            </div>\n                        </div>\n                        <!--wpas-comparison-item-inner-->\n                    </div>\n"}),d+="</div>"):d+="<p>No Products Found</p>",d}};a(document).ready(function(){function c(c,d){a(".wp-amazon-shop-products").html(b.preLoader());var e=b.ajax({action:"wpas_shortcode_by_asin",asin:c});e.done(function(c){var e=JSON.parse(c);0<e.length&&a(d).parent().html(b.products(e))})}function d(c,d){a(".wp-amazon-shop-products").html(b.preLoader());var e=b.ajax({action:"wpas_comparision_by_asin",asin:c});e.done(function(c){var e=JSON.parse(c);0<e.length&&a(d).parent().html(b.comparision(e))})}function e(c,d){a(".wp-amazon-shop-products").html(b.preLoader());var e=wpas_ajax_object.store_country+"&Keywords="+c+"&SearchIndex=All&multipageStart="+wpas_ajax_object.page_number+"&multipageCount="+wpas_ajax_object.prouct_per_page;a.ajax({url:encodeURI(e),dataType:"jsonp",jsonpCallback:"search_callback",success:function(e){var f={action:"wpas_search_by_keyword",keyword:c,data:e.results},g=b.ajax(f);g.done(function(b){var c=a(d).parent().parent().find(".wpas-load-more-wrapper");a(d).parent().html(b.html),b.product_num>=wpas_ajax_object.prouct_per_page?(c.show(),a("#wpas-load-more-btn").attr("data-keyword",b.keyword),a("#wpas-load-more-btn").attr("data-page-num",b.page_num)):a(".wpas-load-more-wrapper").hide()})},error:function(a,b,c){console.log(a,b,c)}})}function f(c){a(".wpas-products-wrapper").html(b.preLoader());var d=wpas_ajax_object.store_country+"&Keywords="+c+"&SearchIndex=All&multipageStart="+wpas_ajax_object.page_number+"&multipageCount="+wpas_ajax_object.prouct_per_page;a.ajax({url:d,dataType:"jsonp",jsonpCallback:"search_callback",success:function(d){console.log(d);var e=parseInt(d.InstanceId+1);a(".wpas-products-wrapper").html(b.products(d.results)),d.results.length>=wpas_ajax_object.prouct_per_page?(a(".wpas-load-more-wrapper").show(),a("#wpas-load-more-btn").attr("data-keyword",c),a("#wpas-load-more-btn").attr("data-page-num",e)):a(".wpas-load-more-wrapper").hide()},error:function(a,b,c){console.log(a,b,c)}})}if(0<a("form[role='search']").length&&"on"==wpas_ajax_object.enable_global_search&&0==a(".wp-amazon-shop-shortcode-wrapper").length&&0==a(".wp-amazon-shop-auto-link-shortcode-wrapper").length){var g=a(".content-area");g.first().prepend("<div class='container'><div class='row wpas-products-wrapper'></div><div class=\"wpas-load-more-wrapper\" style=\"display: none\"><button id=\"wpas-load-more-btn\" class=\"wpas-load-more-btn\" data-keyword=\"\" data-page-num=\"\">Load More</button></div></div>"),a("input[type='search']").on("keypress",function(b){if(13==b.which||13==b.keyCode){b.preventDefault();var c=a(this).val();f(c)}}),a("input[type='submit'],button[type='submit']").on("click",function(b){if(b.preventDefault(),0<a(this).parents("form").length){var c=a(this).val();f(c)}})}0<a(".wp-amazon-shop-products").length&&a(".wp-amazon-shop-products").each(function(b){(function(b,f){setTimeout(function(){"asin"==a(b).attr("shortcode-type")?c(a(b).attr("asin-keys").trim(),b):"keyword"==a(b).attr("shortcode-type")?e(a(b).attr("asin-keys").trim(),b):"comparision"==a(b).attr("shortcode-type")&&d(a(b).attr("asin-keys").trim(),b)},1e3*f)})(this,b)}),a("#wpas-search-input").on("keypress",function(b){if(13==b.which||13==b.keyCode){b.preventDefault();var c=a(this).val().trim();""!=c&&f(c)}}),a("#wpas-search-btn").on("click",function(b){b.preventDefault();var c=a("#wpas-search-input").val().trim();""!=c&&f(c)}),a(document).on("click","#wpas-load-more-btn",function(){var c=a(this).attr("data-keyword"),d=a(this).attr("data-page-num");if(1==d)var e=20;else if(2==d)var e=20;a(".wpas-products-wrapper").last().append(b.preLoader());var f=wpas_ajax_object.store_country+"&Keywords="+c+"&SearchIndex=All&multipageStart="+d+"&multipageCount="+e;a.ajax({url:f,dataType:"jsonp",jsonpCallback:"search_callback",success:function(d){a(".wpas-ajax-pre-loader-container").remove();var e=parseInt(e+1);a(".wpas-products-wrapper").html(b.products(d.results)),20>d.results.length?(a(".wpas-load-more-wrapper").show(),a("#wpas-load-more-btn").attr("data-keyword",c),a("#wpas-load-more-btn").attr("data-page-num",e)):a(".wpas-load-more-wrapper").hide()},error:function(a,b,c){console.log(a,b,c)}})}),a(document).on("click",".wpas-add-to-cart",function(b){b.preventDefault(),window.open(a(this).attr("wpas-url"),"_blank")})})});